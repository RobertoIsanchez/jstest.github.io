<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio 3D Designer</title>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap');

    :root {
      --mint:#c8f4f4;--mint-dark:#a8e6e6;--coral:#ff6b6b;
      --salmon:#ffa07a;--yellow:#f7dc6f;--lavender:#e8d4f0;
      --peach:#ffd4b8;--navy:#1a1a2e;--gray:#6b7280;--white:#fff;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html,body{height:100%;font-family:Poppins,system-ui;color:var(--navy)}
    body{
      background:linear-gradient(180deg,#fff 0%,#fff 280px,var(--mint) 280px);
      overflow-x:hidden;
    }

    .header{text-align:center;padding:60px 24px 80px}
    .header h1{font-size:clamp(48px,10vw,72px);font-weight:800}
    .header h2{font-size:28px;color:var(--coral)}
    .header p{font-size:14px;color:var(--gray);max-width:420px;margin:auto}

    .container{max-width:1000px;margin:auto;padding:24px}
    .card{
      border-radius:24px;overflow:hidden;background:#fff;
      box-shadow:0 20px 60px rgba(0,0,0,.08);
      margin-bottom:48px;
    }

    .card-header{
      padding:20px 24px;display:flex;justify-content:space-between;
      border-bottom:1px solid rgba(0,0,0,.05)
    }
    .title{font-size:16px;font-weight:600}
    .subtitle{font-size:12px;color:var(--gray)}
    .hint{font-size:12px;background:var(--mint);padding:6px 14px;border-radius:20px}

    .viewer-area{position:relative;background:linear-gradient(135deg,#fef9f3,#f0fafa)}
    .viewer{width:100%;height:520px;cursor:zoom-in}
    iframe.viewer{border:0}

    .ui{
      position:absolute;left:20px;bottom:20px;display:flex;gap:10px;
      background:#fff;padding:12px 16px;border-radius:16px;
      box-shadow:0 8px 24px rgba(0,0,0,.1)
    }
    button,select{
      background:var(--mint);border:none;border-radius:10px;
      padding:8px 14px;font-size:13px;font-family:inherit;cursor:pointer
    }
    button:hover{background:var(--coral);color:#fff}

    .overlay{
      position:fixed;inset:0;background:rgba(200,244,244,.95);
      backdrop-filter:blur(20px);display:none;z-index:9999
    }
    .overlay.open{display:block}
    .modal{
      position:absolute;inset:24px;border-radius:24px;
      background:#fff;display:grid;grid-template-rows:auto 1fr
    }
    .modal-header{
      padding:16px 24px;display:flex;justify-content:space-between;
      border-bottom:1px solid rgba(0,0,0,.05)
    }
    .close{background:var(--mint);border-radius:12px;padding:8px 16px}

    .viewer-full{width:100%;height:100%;cursor:zoom-out}
    iframe.viewer-full{border:0}

    @media(max-width:720px){
      .viewer{height:380px}.modal{inset:12px}
    }
  </style>

  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>

<header class="header">
  <h1>Hello,</h1>
  <h2>I'm a 3D Designer</h2>
  <p>Comparación de visualización entre modelos locales y Sketchfab</p>
</header>

<div class="container">

  <!-- ================= LOCAL MODEL ================= -->
  <div class="card">
    <div class="card-header">
      <div>
        <div class="title">Local 3D Model</div>
        <div class="subtitle">model-viewer + HDRI</div>
      </div>
      <div class="hint">Click to expand</div>
    </div>

    <div class="viewer-area">
      <model-viewer id="mvCard"
        class="viewer"
        src="./owl.glb"
        camera-controls
        auto-rotate
        exposure="1.1"
        environment-image="./ForestSmall.hdr"
        loading="eager"
        reveal="auto">
      </model-viewer>

      <div class="ui">
        <button id="playBtn">Play</button>
        <button id="pauseBtn">Pause</button>
        <select id="animSel"></select>
      </div>
    </div>
  </div>

  <!-- ================= SKETCHFAB ================= -->
  <div class="card">
    <div class="card-header">
      <div>
        <div class="title">Sketchfab Model</div>
        <div class="subtitle">External viewer</div>
      </div>
      <div class="hint">Click to expand</div>
    </div>

    <div class="viewer-area">
      <iframe id="sfCard" class="viewer"
        allow="autoplay; fullscreen; xr-spatial-tracking"
        allowfullscreen></iframe>
    </div>
  </div>

</div>

<!-- ============== OVERLAY LOCAL ============== -->
<div id="overlayLocal" class="overlay">
  <div class="modal">
    <div class="modal-header">
      <div class="title">Local Fullscreen</div>
      <button class="close" id="closeLocal">Close</button>
    </div>
    <model-viewer id="mvFull"
      class="viewer-full"
      src="owl.glb"
      camera-controls
      environment-image="ForestSmall.hdr"
      loading="eager"
      reveal="auto"></model-viewer>
  </div>
</div>

<!-- ============== OVERLAY SKETCHFAB ============== -->
<div id="overlaySf" class="overlay">
  <div class="modal">
    <div class="modal-header">
      <div class="title">Sketchfab Fullscreen</div>
      <button class="close" id="closeSf">Close</button>
    </div>
    <iframe id="sfFull" class="viewer-full"
      allow="autoplay; fullscreen; xr-spatial-tracking"
      allowfullscreen></iframe>
  </div>
</div>

<script type="module">
  /* LOCAL MODEL */
  const mvCard = document.getElementById("mvCard");
  const mvFull = document.getElementById("mvFull");
  const overlayLocal = document.getElementById("overlayLocal");

  mvCard.onclick = () => overlayLocal.classList.add("open");
  document.getElementById("closeLocal").onclick =
    () => overlayLocal.classList.remove("open");

  mvCard.addEventListener("load", () => {
    const anims = mvCard.availableAnimations || [];
    const sel = animSel;
    sel.innerHTML = "";
    if (!anims.length) return;
    anims.forEach(a=>{
      const o=document.createElement("option");
      o.value=o.textContent=a;sel.appendChild(o);
    });
    mvCard.animationName=anims[0];
    mvFull.animationName=anims[0];
    mvCard.play();
  });

  playBtn.onclick=()=>{mvCard.play();mvFull.play();}
  pauseBtn.onclick=()=>{mvCard.pause();mvFull.pause();}
  animSel.onchange=()=>{
    mvCard.animationName=animSel.value;
    mvFull.animationName=animSel.value;
    mvCard.play();
  };

  /* SKETCHFAB */
  const UID="3a137761afb24332a22062c377d48eec";
  const sfURL=u=>`https://sketchfab.com/models/${u}/embed?autostart=1&autospin=0.2`;
  sfCard.src=sfURL(UID);

  sfCard.onclick=()=>{
    overlaySf.classList.add("open");
    sfFull.src=sfURL(UID);
  };
  closeSf.onclick=()=>{
    overlaySf.classList.remove("open");
    sfFull.src="about:blank";
  };

  window.addEventListener("keydown",e=>{
    if(e.key==="Escape"){
      overlayLocal.classList.remove("open");
      overlaySf.classList.remove("open");
      sfFull.src="about:blank";
    }
  });
</script>

</body>
</html>
